{% extends 'accounts/headerFooter.html' %}
{% load static %}
{% block content %}
<div style="margin-top: 100px;">
    <form method="get" action="{% url 'search' %}" class="d-flex justify-content-center">
        <div class="form-group">
            <label for="city">City:</label>
            <select id="city" name="city" class="form-control" required>
                <option value="All">All</option>
                {% for city in cities %}
                <option value="{{ city }}">{{ city }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="house_type">House Type:</label>
            <select id="house_type" name="house_type" class="form-control" required>
                <option value="All">All</option>
                {% for house_type in house_types %}
                <option value="{{ house_type }}">{{ house_type }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="min_price">Min Price:</label>
            <input type="number" id="min_price" name="min_price" min="{{ min_price }}" value="{{ min_price }}" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="max_price">Max Price:</label>
            <input type="number" id="max_price" name="max_price" max="{{ max_price }}" value="{{ max_price }}" class="form-control" required>
        </div>
        <button type="submit" id="submit" class="btn btn-primary">Search</button>
    </form>
</div>

<div class="container">
    <div class="row">
        {% if houses %}
        {% for house in houses %}
        <div class="col-3">
            <div class="card">
                <img style="width:100%; height:100%;" src="{{ house.image.url }}" alt="House Photo"
                    class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title">{{ house.title }}</h5>
                    <p class="card-text">{{ house.bedrooms }} Bed Rooms</p>
                    <p class="card-text">{{ house.rental_price }} Birr</p>
                    <a href="{% url 'house_detail' house.id %}" class="btn btn-primary">View Details</a>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <p>No Results Found</p>
        {% endif %}
    </div>
</div>

<style>
    .btn-primary {
        height: 40;
        margin-top: 30;
    }

    .form-group {
        margin-right: 1%;
    }
</style>

{% endblock %}